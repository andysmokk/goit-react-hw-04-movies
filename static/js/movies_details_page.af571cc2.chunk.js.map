{"version":3,"sources":["pages/MovieDetailsPage/MovieDetailsPage.module.css","pages/MovieDetailsPage/MovieDetailsPage.jsx"],"names":["module","exports","Cast","lazy","Reviews","MovieDetailsPage","match","useRouteMatch","history","useHistory","location","useLocation","movieId","useParams","useState","movie","setMovie","useEffect","moviesAPI","fetchMovieDetail","then","type","onClick","push","state","from","className","s","button","label","box","src","poster_path","alt","img","description","title","release_date","substring","text","vote_average","overview","list","genres","map","genre","name","id","pages","to","pathname","url","fallback","path"],"mappings":"4HACAA,EAAOC,QAAU,CAAC,OAAS,iCAAiC,IAAM,8BAA8B,YAAc,sCAAsC,SAAW,mCAAmC,KAAO,+BAA+B,KAAO,+BAA+B,IAAM,8BAA8B,MAAQ,kC,gJCUpTC,EAAOC,gBAAK,kBAChB,gCAEIC,EAAUD,gBAAK,kBACnB,gCAOa,SAASE,IAAoB,IAAD,MACnCC,EAAQC,cACRC,EAAUC,cACVC,EAAWC,cACTC,EAAYC,cAAZD,QACR,EAA0BE,mBAAS,MAAnC,mBAAOC,EAAP,KAAcC,EAAd,KAEAC,qBAAU,WACRC,IAAUC,iBAAiBP,GAASQ,MAAK,SAAAL,GAAK,OAAIC,EAASD,QAC1D,CAACH,IAOJ,OACE,qCACE,wBAAQS,KAAK,SAASC,QAPJ,WAAO,IAAD,MAC1Bd,EAAQe,KAAR,iBAAab,QAAb,IAAaA,GAAb,UAAaA,EAAUc,aAAvB,iBAAa,EAAiBC,YAA9B,aAAa,EAAuBf,gBAApC,QAAgD,MAMAgB,UAAWC,IAAEC,OAA3D,0BACGlB,QADH,IACGA,GADH,UACGA,EAAUc,aADb,iBACG,EAAiBC,YADpB,aACG,EAAuBI,aAD1B,QACmC,YAElCd,GACC,sBAAKW,UAAWC,IAAEG,IAAlB,UACE,qBACEC,IAAG,UA1BM,mCA0BN,OAAoBhB,EAAMiB,aAC7BC,IAAI,GACJP,UAAWC,IAAEO,MAEf,sBAAKR,UAAWC,IAAEQ,YAAlB,UACE,qBAAIT,UAAWC,IAAES,MAAjB,UACGrB,EAAMqB,MAAO,IACbrB,EAAMsB,aAAN,WACOtB,EAAMsB,aAAaC,UAAU,EAAG,GADvC,KAEGvB,EAAMsB,gBAEZ,oBAAGX,UAAWC,IAAEY,KAAhB,yBAAmCxB,EAAMyB,gBACzC,oBAAId,UAAWC,IAAES,MAAjB,sBACA,mBAAGV,UAAS,UAAKC,IAAEc,SAAP,cAAqBd,IAAEY,MAAnC,SAA4CxB,EAAM0B,WAClD,oBAAIf,UAAWC,IAAES,MAAjB,oBACA,8BACE,oBAAIV,UAAS,UAAKC,IAAEe,KAAP,cAAiBf,IAAEY,MAAhC,SACGxB,EAAM4B,QACL5B,EAAM4B,OAAOC,KAAI,SAAAC,GAAK,OACpB,6BAAoBA,EAAMC,MAAjBD,EAAME,iBAO7B,uBACA,gCACE,wDACA,qBAAIrB,UAAS,UAAKC,IAAEe,KAAP,cAAiBf,IAAEY,MAAhC,UACE,6BACE,cAAC,IAAD,CACEb,UAAWC,IAAEqB,MACbC,GAAI,CACFC,SAAS,GAAD,OAAK5C,EAAM6C,IAAX,SACR3B,MAAO,CACLC,KAAM,CAAEf,WAAUmB,MAAO,aAL/B,oBAYF,6BACE,cAAC,IAAD,CACEH,UAAWC,IAAEqB,MACbC,GAAI,CACFC,SAAS,GAAD,OAAK5C,EAAM6C,IAAX,YACR3B,MAAO,CACLC,KAAM,CAAEf,WAAUmB,MAAO,aAL/B,0BAaJ,0BAGF,cAAC,WAAD,CAAUuB,SAAU,4CAApB,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,KAAI,UAAK/C,EAAM+C,KAAX,SAAX,SACE,cAACnD,EAAD,CAAMU,QAASA,MAGjB,cAAC,IAAD,CAAOyC,KAAI,UAAK/C,EAAM+C,KAAX,YAAX,SACE,cAACjD,EAAD,CAASQ,QAASA","file":"static/js/movies_details_page.af571cc2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"MovieDetailsPage_button__3-jLQ\",\"box\":\"MovieDetailsPage_box__3gcwD\",\"description\":\"MovieDetailsPage_description__1xl3K\",\"overview\":\"MovieDetailsPage_overview__2bMeF\",\"text\":\"MovieDetailsPage_text__1nQvQ\",\"list\":\"MovieDetailsPage_list__3T2Zq\",\"img\":\"MovieDetailsPage_img__3lYg5\",\"pages\":\"MovieDetailsPage_pages__1w_ia\"};","import { useState, useEffect, lazy, Suspense } from 'react';\r\nimport { Route, Switch, useParams } from 'react-router';\r\nimport {\r\n  NavLink,\r\n  useRouteMatch,\r\n  useHistory,\r\n  useLocation,\r\n} from 'react-router-dom';\r\nimport s from './MovieDetailsPage.module.css';\r\nimport moviesAPI from '../../services/moviesApi';\r\n\r\nconst Cast = lazy(() =>\r\n  import('../../components/Cast/Cast' /* webpackChunkName: \"cast_page\" */),\r\n);\r\nconst Reviews = lazy(() =>\r\n  import(\r\n    '../../components/Reviews/Reviews' /* webpackChunkName: \"reviews_page\" */\r\n  ),\r\n);\r\n\r\nconst BASE_IMG_URL = 'https://image.tmdb.org/t/p/w300';\r\n\r\nexport default function MovieDetailsPage() {\r\n  const match = useRouteMatch();\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n  const { movieId } = useParams();\r\n  const [movie, setMovie] = useState(null);\r\n\r\n  useEffect(() => {\r\n    moviesAPI.fetchMovieDetail(movieId).then(movie => setMovie(movie));\r\n  }, [movieId]);\r\n\r\n  const onClickGoBack = () => {\r\n    history.push(location?.state?.from?.location ?? '/');\r\n    // history.goBack();\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <button type=\"submit\" onClick={onClickGoBack} className={s.button}>\r\n        {location?.state?.from?.label ?? 'GO BACK'}\r\n      </button>\r\n      {movie && (\r\n        <div className={s.box}>\r\n          <img\r\n            src={`${BASE_IMG_URL}${movie.poster_path}`}\r\n            alt=\"\"\r\n            className={s.img}\r\n          />\r\n          <div className={s.description}>\r\n            <h1 className={s.title}>\r\n              {movie.title}{' '}\r\n              {movie.release_date\r\n                ? `(${movie.release_date.substring(0, 4)})`\r\n                : movie.release_date}\r\n            </h1>\r\n            <p className={s.text}>User Score: {movie.vote_average}</p>\r\n            <h2 className={s.title}>Overview</h2>\r\n            <p className={`${s.overview} + ${s.text}`}>{movie.overview}</p>\r\n            <h2 className={s.title}>Genres</h2>\r\n            <div>\r\n              <ul className={`${s.list} + ${s.text}`}>\r\n                {movie.genres &&\r\n                  movie.genres.map(genre => (\r\n                    <li key={genre.id}>{genre.name}</li>\r\n                  ))}\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      <hr />\r\n      <div>\r\n        <h2>Additional information</h2>\r\n        <ul className={`${s.list} + ${s.text}`}>\r\n          <li>\r\n            <NavLink\r\n              className={s.pages}\r\n              to={{\r\n                pathname: `${match.url}/cast`,\r\n                state: {\r\n                  from: { location, label: 'GO BACK' },\r\n                },\r\n              }}\r\n            >\r\n              Cast\r\n            </NavLink>\r\n          </li>\r\n          <li>\r\n            <NavLink\r\n              className={s.pages}\r\n              to={{\r\n                pathname: `${match.url}/reviews`,\r\n                state: {\r\n                  from: { location, label: 'GO BACK' },\r\n                },\r\n              }}\r\n            >\r\n              Reviews\r\n            </NavLink>\r\n          </li>\r\n        </ul>\r\n        <hr />\r\n      </div>\r\n\r\n      <Suspense fallback={<h2>Loading...</h2>}>\r\n        <Switch>\r\n          <Route path={`${match.path}/cast`}>\r\n            <Cast movieId={movieId} />\r\n          </Route>\r\n\r\n          <Route path={`${match.path}/reviews`}>\r\n            <Reviews movieId={movieId} />\r\n          </Route>\r\n        </Switch>\r\n      </Suspense>\r\n    </>\r\n  );\r\n}\r\n"],"sourceRoot":""}