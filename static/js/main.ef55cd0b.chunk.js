(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[0],{11:function(e,t,c){e.exports={link:"Navigation_link__1VrIW",activeLink:"Navigation_activeLink__3J6XK Navigation_link__1VrIW"}},23:function(e,t,c){},30:function(e,t,c){"use strict";c.r(t);var n=c(1),i=c.n(n),r=c(16),a=c.n(r),s=c(7),j=(c(23),c(2)),o=c(11),l=c.n(o),h=c(0),b=function(){return Object(h.jsxs)("nav",{children:[Object(h.jsx)(s.c,{exact:!0,to:"/",className:l.a.link,activeClassName:l.a.activeLink,children:"Home"}),Object(h.jsx)(s.c,{to:"/movies",className:l.a.link,activeClassName:l.a.activeLink,children:"Movies"})]})},u=c(8),d="80c40df4ca7e037eb588a248bc1cafa9",O="https://api.themoviedb.org/3";var f={fetchTrendingMovies:function(){return fetch("".concat(O,"/trending/movie/week?api_key=").concat(d)).then((function(e){return e.json()}))},fetchMovie:function(e){return fetch("".concat(O,"/search/movie?query=").concat(e,"&language=en-US&api_key=").concat(d)).then((function(e){return e.json()}))},fetchMovieDetail:function(e){return fetch("".concat(O,"/movie/").concat(e,"?language=en-US&api_key=").concat(d)).then((function(e){return e.json()}))},fetchMovieCast:function(e){return fetch("".concat(O,"/movie/").concat(e,"/credits?language=en-US&api_key=").concat(d)).then((function(e){return e.json()}))},fetchMovieReviews:function(e){return fetch("".concat(O,"/movie/").concat(e,"/reviews?language=en-US&api_key=").concat(d)).then((function(e){return e.json()}))}};function v(){var e=Object(n.useState)(null),t=Object(u.a)(e,2),c=t[0],i=t[1];return Object(n.useEffect)((function(){f.fetchTrendingMovies().then((function(e){return i(e.results)}))}),[]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h1",{children:"Trending today"}),Object(h.jsx)("ul",{children:c&&c.map((function(e){return Object(h.jsx)("li",{children:Object(h.jsxs)(s.b,{to:"/movies/".concat(e.id),children:[e.title," ",e.release_date?"(".concat(e.release_date.substring(0,4),")"):e.release_date]})},e.id)}))})]})}function x(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),c=t[0],i=t[1],r=Object(n.useState)([]),a=Object(u.a)(r,2),j=a[0],o=a[1];return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),c&&f.fetchMovie(c).then((function(e){return o(e.results)}))},children:[Object(h.jsx)("input",{name:"movieName",value:c,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movie",onChange:function(e){var t=e.target;i(t.value)}}),Object(h.jsx)("button",{type:"submit",children:Object(h.jsx)("span",{children:"Search"})})]}),Object(h.jsx)("ul",{children:j&&j.map((function(e){return Object(h.jsx)("li",{children:Object(h.jsxs)(s.b,{to:"/movies/".concat(e.id),children:[e.title," ",e.release_date?"(".concat(e.release_date.substring(0,4),")"):e.release_date]})},e.id)}))})]})}function m(){return Object(h.jsx)("h1",{children:"404 \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"})}var p=function(e){var t=e.movieId,c=Object(n.useState)([]),i=Object(u.a)(c,2),r=i[0],a=i[1];return Object(n.useEffect)((function(){f.fetchMovieCast(t).then((function(e){return a(e.cast)}))}),[t]),console.log(r),0!==r.length?Object(h.jsx)("ul",{children:r&&r.map((function(e){return Object(h.jsxs)("li",{children:[e.profile_path?Object(h.jsx)("img",{src:"".concat("https://image.tmdb.org/t/p/w300").concat(e.profile_path),alt:e.name}):Object(h.jsx)("img",{src:"https://www.themoviedb.org/assets/2/v4/logos/v2/blue_square_2-d537fb228cf3ded904ef09b136fe3fec72548ebc1fea3fbbd1ad9e36364db38b.svg",alt:"default_img",width:"300"}),Object(h.jsxs)("p",{children:["Character: ",e.character]}),Object(h.jsx)("p",{children:e.name})]},e.id)}))}):Object(h.jsx)("p",{children:"No information"})};var g=function(e){var t=e.movieId,c=Object(n.useState)([]),i=Object(u.a)(c,2),r=i[0],a=i[1];return Object(n.useEffect)((function(){f.fetchMovieReviews(t).then((function(e){return a(e.results)}))}),[t]),console.log(r),0!==r.length?Object(h.jsx)("ul",{children:r.map((function(e){return Object(h.jsxs)("li",{children:[Object(h.jsx)("p",{children:e.author}),Object(h.jsx)("p",{children:e.content})]},e.id)}))}):Object(h.jsx)("p",{children:"We don't have any reviews for this movie"})};function _(){var e=Object(j.g)(),t=Object(j.f)().movieId,c=Object(n.useState)(null),i=Object(u.a)(c,2),r=i[0],a=i[1];return Object(n.useEffect)((function(){f.fetchMovieDetail(t).then((function(e){return a(e)}))}),[t]),Object(h.jsxs)(h.Fragment,{children:[r&&Object(h.jsxs)("div",{children:[Object(h.jsx)("img",{src:"".concat("https://image.tmdb.org/t/p/w500").concat(r.poster_path),alt:""}),Object(h.jsxs)("div",{children:[Object(h.jsxs)("h1",{children:[r.title," ",r.release_date?"(".concat(r.release_date.substring(0,4),")"):r.release_date]}),Object(h.jsxs)("p",{children:["User Score: ",r.vote_average]}),Object(h.jsx)("h2",{children:"Overwiew"}),Object(h.jsx)("p",{children:r.overview}),Object(h.jsx)("h2",{children:"Genres"}),Object(h.jsx)("div",{children:r.genres&&r.genres.map((function(e){return Object(h.jsx)("ul",{children:Object(h.jsx)("li",{children:e.name})},e.id)}))})]})]}),Object(h.jsx)("hr",{}),Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{children:"Additional information"}),Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{children:Object(h.jsx)(s.b,{to:"".concat(e.url,"/cast"),children:"Cast"})}),Object(h.jsx)("li",{children:Object(h.jsx)(s.b,{to:"".concat(e.url,"/reviews"),children:"Reviews"})})]}),Object(h.jsx)("hr",{})]}),Object(h.jsxs)(j.c,{children:[Object(h.jsx)(j.a,{path:"".concat(e.path,"/cast"),children:Object(h.jsx)(p,{movieId:t})}),Object(h.jsx)(j.a,{path:"".concat(e.path,"/reviews"),children:Object(h.jsx)(g,{movieId:t})})]})]})}var w=function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(b,{}),Object(h.jsxs)(j.c,{children:[Object(h.jsx)(j.a,{exact:!0,path:"/",children:Object(h.jsx)(v,{})}),Object(h.jsx)(j.a,{path:"/movies",exact:!0,children:Object(h.jsx)(x,{})}),Object(h.jsx)(j.a,{path:"/movies/:movieId",children:Object(h.jsx)(_,{})}),Object(h.jsx)(j.a,{children:Object(h.jsx)(m,{})})]})]})};a.a.render(Object(h.jsx)(i.a.StrictMode,{children:Object(h.jsx)(s.a,{children:Object(h.jsx)(w,{})})}),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.ef55cd0b.chunk.js.map